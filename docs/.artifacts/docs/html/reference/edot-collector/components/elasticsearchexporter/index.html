<!DOCTYPE html>
<html lang="en" class="h-screen" xmlns="http://www.w3.org/1999/html">
<head hx-head="merge">
		<meta charset="utf-8">
	<title>Elasticsearch exporter | Elastic Agent release notes</title>
	<meta name="description" content="The Elasticsearch exporter is an OpenTelemetry Collector component that sends telemetry data to Elasticsearch.">
		<link rel="preload" href="/_static/InterVariable.e6ec8b96.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Regular.efa24115.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Bold.01af95ca.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Demi.845945e0.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="stylesheet preload" as="style" type="text/css" href="/_static/styles.css?v=c7dd3d5020c9f700" crossorigin/>
	<script src="/_static/custom-elements.js?v=6d04fe607c8ff795" defer></script>
	<script src="/_static/main.js?v=33f2ee447d46514e" defer></script>
		<link rel="canonical" href="https://docs-v3-preview.elastic.dev/reference/edot-collector/components/elasticsearchexporter" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="apple-touch-icon" sizes="57x57" href="https://elastic.co/apple-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="60x60" href="https://elastic.co/apple-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="https://elastic.co/apple-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="https://elastic.co/apple-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="https://elastic.co/apple-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="https://elastic.co/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="https://elastic.co/apple-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="https://elastic.co/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://elastic.co/apple-icon-180x180.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="https://elastic.co/apple-icon-192x192.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-32x32.png" sizes="32x32"/>
<link rel="shortcut icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon-precomposed" sizes="64x64" href="https://elastic.co/favicon_64x64_16bit.png"/>
<link rel="apple-touch-icon-precomposed" sizes="32x32" href="https://elastic.co/favicon_32x32.png"/>
<link rel="apple-touch-icon-precomposed" sizes="16x16" href="https://elastic.co/favicon_16x16.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/android-chrome-192x192.png" sizes="192x192"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-96x96.png" sizes="96x96"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-16x16.png" sizes="16x16"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-48x48.png" sizes="48x48"/>

	<meta name="robots" content="noindex, nofollow">
	<meta name="htmx-config" content='{"selfRequestsOnly": true}'>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Elasticsearch exporter | Elastic Agent release notes"/>
	<meta property="og:description" content="The Elasticsearch exporter is an OpenTelemetry Collector component that sends telemetry data to Elasticsearch."/>
	<meta property="og:image" content="https://www.elastic.co/static-res/images/social_media_default.png"/>
	<meta property="og:image:alt" content="Elastic | The Search AI Company"/>
		<meta property="og:url" content="https://docs-v3-preview.elastic.dev/reference/edot-collector/components/elasticsearchexporter" />
	<meta property="docs:feature:lazy-load-navigation" content="False" />

				<meta class="elastic" name="product_version" content="9.0+"/>
			<meta name="DC.identifier" content="9.0+"/>
			<link rel="alternate" type="text/markdown" href="/reference/edot-collector/components/elasticsearchexporter.md" title="Markdown export"/>
			<meta class="elastic" name="product_name" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry Collector,Elastic Agent"/>
			<meta name="DC.subject" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry Collector,Elastic Agent"/>

</head>

<body
	class="group/body text-ink has-[#primary-nav-hamburger:checked]:overflow-hidden"
	hx-ext="preload, head-support"
	data-docs-builder-version="9AEEE8FE"
	data-root-path="/"
	hx-boost="true" hx-swap="none" hx-push-url="true" hx-indicator="#htmx-indicator"
	>
	<header class="sticky top-0 z-50 bg-blue-developer text-white h-(--offset-top) flex items-center">
		<div class="max-w-(--max-layout-width) w-full mx-auto flex justify-between items-center">
			<label role="button" class="md:hidden cursor-pointer" for="pages-nav-hamburger">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8">
					<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"/>
				</svg>
			</label>
			<a href="/" class="flex items-center gap-2 text-lg font-semibold px-4">
				<img src="/_static/logo-elastic-glyph-color.svg?v=f602ddacafcf3057" alt="" width="32" height="32">
				elastic-agent
			</a>
			<search-or-ask-ai></search-or-ask-ai>
		</div>
	</header>

<div id="main-container" class="flex flex-col items-center border-t-1 border-grey-20">
	
		<div class="max-w-(--max-layout-width) w-full h-full grid
					grid-cols-1
					md:grid-cols-[var(--max-sidebar-width)_1fr]
				">
			<aside class="sidebar bg-white fixed md:sticky shadow-2xl md:shadow-none left-[100%] group-has-[#pages-nav-hamburger:checked]/body:left-0 bottom-0 md:left-auto pl-6 md:pl-2 top-[calc(var(--offset-top)+1px)] w-[80%] md:w-auto shrink-0 border-r-1 border-r-grey-20 z-40 md:z-auto">
	
	<nav
		id="pages-nav"
		class="sidebar-nav h-full">
		
<div class="pb-20 font-body" id="nav-tree">
		<a
			href="/release-notes/"
			 hx-select-oob=#content-container,#toc-nav preload=mousedown
			class="inline-block mx-4 mt-6 font-semibold text-ink hover:text-black">
			Elastic Agent
		</a>

		<ul class="block px-4">
					<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/release-notes/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					Elastic Agent
				</a>
					<label for="587464A1" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="587464A1"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/known-issues"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Known issues
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/breaking-changes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Breaking changes
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/deprecations"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Deprecations
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					EDOT Collector
				</a>
					<label for="16101572" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="16101572"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					EDOT Collector
				</a>
					<label for="1070B6C7" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="1070B6C7"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/download"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Download
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/modes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Deployment modes
			</a>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/config/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Configuration
				</a>
					<label for="3BE51D81" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="3BE51D81"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/default-config-standalone"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Default config (Standalone)
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/default-config-k8s"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Default config (Kubernetes)
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/configure-logs-collection"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure Logs Collection
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/configure-metrics-collection"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure Metrics Collection
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/authentication-methods"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Authentication methods
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/proxy"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Proxy settings
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/components"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Components
				</a>
					<label for="1A10BF4B" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="1A10BF4B"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/components/elasticsearchexporter"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Elasticsearch exporter
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/components/elasticapmintakereceiver"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Elastic APM intake receiver
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/customization"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Customization
				</a>
					<label for="02A7F777" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="02A7F777"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/custom-collector"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Custom Collector
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/upstream-collector"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Use the contrib Collector
			</a>
		</li>
				</ul>
		</li>
				</ul>
		</li>

		</ul>
</div>

	</nav>
	<label role="button" for="pages-nav-hamburger" class="absolute md:hidden top-7 -right-12 bg-white p-1 rounded-full border-1 border-grey-20 cursor-pointer z-99">
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
			<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
		</svg>
	</label>
</aside>
<label for="pages-nav-hamburger" aria-hidden="true" class="hidden group-has-[#pages-nav-hamburger:checked]/body:block md:hidden! fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-30 ">
	
</label>

			<div class="lg:grid lg:grid-cols-[1fr_var(--max-sidebar-width)]">
				<aside class="sidebar md:block w-full lg:max-w-65 md:order-2 px-6 md:px-10 lg:px-0">
	<nav id="toc-nav" class="sidebar-nav lg:h-full flex flex-row-reverse lg:block items-center gap-4">
		<div class="mt-6">
			<version-dropdown current-version='9.0&#x2B;' items='[]'>
				<div class="h-8"></div>
			</version-dropdown>
		</div>
		<ul class="mt-6 hidden md:flex items-center lg:block gap-4">
			<li class="view-as-markdown lg:not-first:mt-1">
				<a href="/reference/edot-collector/components/elasticsearchexporter.md" class="link text-sm" target="_blank">
					<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 -1 24 24">
						<path fill="currentColor" d="M22.131725 19.247H1.9386225C1.0239525 19.247 0.25 18.47305 0.25 17.558375v-11.11675c0 -0.914675 0.7739525 -1.688625 1.6886225 -1.688625H22.061375c0.914675 0 1.688625 0.77395 1.688625 1.688625v11.11675c0 0.914675 -0.7036 1.688625 -1.618275 1.688625ZM1.9386225 5.87875c-0.2814375 0 -0.562875 0.281425 -0.562875 0.562875v11.11675c0 0.3518 0.2814375 0.562875 0.562875 0.562875H22.061375c0.3518 0 0.562875 -0.281425 0.562875 -0.562875v-11.11675c0 -0.3518 -0.281425 -0.562875 -0.562875 -0.562875l-20.1227525 0ZM3.62725 15.86975V8.130225h2.2515l2.2515 2.814375 2.251475 -2.814375h2.2515V15.86975h-2.2515V11.437125L8.13025 14.2515l-2.2515 -2.814375V15.86975h-2.2515Zm14.1422 0L14.392225 12.140725h2.251475v-4.0105h2.2515v3.940125h2.2515L17.76945 15.86975Z" stroke-width="0.25"></path>
					</svg>
					View as markdown
				</a>
			</li>
				<li class="edit-this-page lg:not-first:mt-1 ">
					<a href="https://github.com/elastic/elastic-agent/edit/add-collector-docs/docs/reference/edot-collector/components/elasticsearchexporter.md" class="link text-sm" target="_blank">
						<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"/>
						</svg>
						Edit this page
					</a>
				</li>
			<li class="report-an-issue lg:not-first:mt-1">
				<a href="https://github.com/elastic/docs-content/issues/new?template=issue-report.yaml&amp;link=https://docs-v3-preview.elastic.dev/reference/edot-collector/components/elasticsearchexporter&amp;labels=source:web" class="link text-sm" target="_blank">
					<svg class="link-icon" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"/>
					</svg>
					Report an issue
				</a>
			</li>
		</ul>
		<div class="pt-6 hidden lg:block">
				<div>
					<div class="font-bold mb-2">On this page</div>
					<div class="relative toc-progress-container font-body">
						<div class="toc-progress-indicator absolute top-0 h-0 w-[1px] bg-blue-elastic transition-all duration-200 ease-out "></div>
						<ul class="block w-full">
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#get-started">
										Get started
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#configuration">
										Configuration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#connection-settings">
										Connection settings
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#authentication-settings">
										Authentication settings
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#tls-and-security-settings">
										TLS and security settings
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#mapping-modes">
										Mapping modes
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#otel-mapping-mode">
										OTel mapping mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#ecs-mapping-mode">
										ECS mapping mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#bodymap-mapping-mode">
										Bodymap mapping mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#none-mapping-mode">
										None mapping mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#raw-mapping-mode">
										Raw mapping mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#document-routing">
										Document routing
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#static-mode">
										Static mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#dynamic-mode-index-attribute">
										Dynamic mode (Index attribute)
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#dynamic-mode-data-stream-routing">
										Dynamic mode (Data stream routing)
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#document-routing-settings">
										Document routing settings
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#document-routing-exceptions">
										Document routing exceptions
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#performance-and-batching">
										Performance and batching
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#internal-batching-default">
										Internal batching (default)
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#using-sending-queue">
										Using sending queue
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#bulk-indexing">
										Bulk indexing
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#ingest-pipeline-support">
										Ingest pipeline support
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#elasticsearch-node-discovery">
										Elasticsearch node discovery
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#known-limitations">
										Known limitations
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#known-issues">
										Known issues
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#troubleshooting">
										Troubleshooting
									</a>
								</li>
						</ul>
					</div>
				</div>

		</div>

	</nav>
</aside>

				<div class="justify-center grid
						grid-cols-1
						px-6 lg:px-0
						lg:grid-cols-[1fr_var(--max-text-width)_1fr]
						lg:order-1
						">
					<div class="spacer"></div>
					<main id="content-container" class="w-full flex flex-col relative pb-30 overflow-x-hidden">
						<div class="w-full absolute top-0 left-0 right-0 htmx-indicator" id="htmx-indicator" role="status">
							<div class="h-[2px] w-full overflow-hidden">
								<div class="progress w-full h-full bg-pink-70 left-right"></div>
							</div>
							<div class="sr-only">Loading</div>
						</div>
						<div class="content-container md:px-4">
							
<ol id="breadcrumbs" class="block items-center w-full py-6" itemscope="" itemtype="https://schema.org/BreadcrumbList">
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<a
				hx-disable="true"
				itemprop="item"
				href="/reference/edot-collector/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">EDOT Collector</span>
			</a>
			<meta itemprop="position" content="1">
		</li>
	
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<span class="px-1">/</span>
			<a
				itemprop="item" 
				href="/reference/edot-collector/components"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">Components</span>
			</a>
			<meta itemprop="position" content="2">
		</li>
	<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
		<span class="px-1">/</span>
	</li>
</ol>

						</div>
						
						<article id="markdown-content" class="content-container markdown-content md:px-4">
							<input type="checkbox" class="hidden" id="pages-nav-hamburger">
							<section id="elastic-docs-v3">
	<h1>Elasticsearch exporter</h1>

		<p class="applies applies-block">
		

			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Available on Serverless&nbsp;Observability projects unless otherwise specified.">
				<span class="applicable-name">Serverless Observability</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>



		</p>
	<p>The Elasticsearch exporter is an OpenTelemetry Collector component that sends logs, metrics, and traces to Elasticsearch. The exporter supports multiple mapping modes and provides flexible configuration options for data routing, authentication, and performance tuning.</p>
<div class="heading-wrapper" id="get-started"><h2><a class="headerlink" href="#get-started">Get started</a></h2>
</div>
<p>To use the Elasticsearch exporter, include it in the exporter definitions of the <a href="/reference/edot-collector/config/" hx-select-oob="#content-container,#toc-nav" preload="mousedown">Collector configuration</a>. The exporter is already included in the <a href="/reference/edot-collector/config/default-config-standalone" hx-select-oob="#content-container,#toc-nav" preload="mousedown">default configuration</a>.</p>
<div class="heading-wrapper" id="configuration"><h2><a class="headerlink" href="#configuration">Configuration</a></h2>
</div>
<p>The Elasticsearch exporter supports various configuration options for connecting to Elasticsearch, mapping data, and optimizing performance.</p>
<div class="heading-wrapper" id="connection-settings"><h3><a class="headerlink" href="#connection-settings">Connection settings</a></h3>
</div>
<p>You must specify exactly one of the following connection methods:</p>
<ul>
<li><code>endpoint</code>: A single Elasticsearch URL. For example, <code>https://elasticsearch:9200</code>.</li>
<li><code>endpoints</code>: A list of Elasticsearch URLs for round-robin load balancing.</li>
<li><code>cloudid</code>: An <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/deploy-manage/deploy/elastic-cloud/find-cloud-id" hx-select-oob="#main-container" preload="mousedown">Elastic Cloud ID</a> for connecting to Elastic Cloud.</li>
</ul>
<p>If none of the previous settings are specified, the exporter relies on the <code>ELASTICSEARCH_URL</code> environment variable.</p>
<div class="heading-wrapper" id="authentication-settings"><h3><a class="headerlink" href="#authentication-settings">Authentication settings</a></h3>
</div>
<p>The exporter supports standard OpenTelemetry <a href="https://github.com/open-telemetry/opentelemetry-collector/blob/main/config/configauth/README.md#authentication-configuration" target="_blank" rel="noopener noreferrer">authentication configuration</a>. You can also use these simplified authentication options:</p>
<ul>
<li><code>user</code> and <code>password</code>: For HTTP Basic Authentication</li>
<li><code>api_key</code>: For <a href="https://www.elastic.co/docs/api/doc/elasticsearch/operation/operation-security-create-api-key" target="_blank" rel="noopener noreferrer">Elasticsearch API key authentication</a></li>
</ul>
<div class="heading-wrapper" id="tls-and-security-settings"><h3><a class="headerlink" href="#tls-and-security-settings">TLS and security settings</a></h3>
</div>
<p>The exporter supports standard OpenTelemetry TLS configuration for secure connections. You can configure TLS certificates, client authentication, and other security settings through the standard <a href="https://github.com/open-telemetry/opentelemetry-collector/blob/main/config/configtls/README.md#tls-configuration-settings" target="_blank" rel="noopener noreferrer">TLS configuration options</a>.</p>
<div class="heading-wrapper" id="mapping-modes"><h2><a class="headerlink" href="#mapping-modes">Mapping modes</a></h2>
</div>
<p>The exporter supports several mapping modes that determine how your telemetry data is preprocessed and stored in Elastic. You can configure the mapping mode through the <code>mapping</code> setting:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mapping::mode</code></td>
<td><code>otel</code></td>
<td>The default mapping mode. Valid modes are: <code>none</code>, <code>ecs</code>, <code>otel</code>, <code>raw</code>, <code>bodymap</code>.</td>
</tr>
<tr>
<td><code>mapping::allowed_modes</code></td>
<td>All mapping modes</td>
<td>A list of allowed mapping modes that can be requested through client metadata or scope attributes.</td>
</tr>
</tbody>
</table>
</div><div class="heading-wrapper" id="otel-mapping-mode"><h3><a class="headerlink" href="#otel-mapping-mode">OTel mapping mode</a></h3>
</div>

<p class="applies applies-block">


			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack version 8.12.0 and later unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


					<span class="applicable-separator"></span>
				<span class="applicable-meta applicable-meta-ga">
							<span class="applicable-version applicable-version-ga">
								8.12.0
							</span>
				</span>
			</span>



</p>
<p>The default mapping mode is <code>otel</code>. In the <code>otel</code> mapping mode, the Elasticsearch Exporter stores documents in Elastic's preferred OTel-native schema. In this mapping mode, documents use the original attribute names and closely follow the event structure from the OTLP events.</p>
<div class="heading-wrapper" id="ecs-mapping-mode"><h3><a class="headerlink" href="#ecs-mapping-mode">ECS mapping mode</a></h3>
</div>
<p>In <code>ecs</code> mapping mode, the Elasticsearch Exporter maps fields from OpenTelemetry Semantic Conventions (SemConv) to Elastic Common Schema (ECS) where possible. This mode can be used for compatibility with existing dashboards that work with ECS. Refer to <a href="https://docs-v3-preview.elastic.dev/elastic/ecs/tree/main/reference/ecs-opentelemetry" hx-select-oob="#main-container" preload="mousedown">ECS &amp; OpenTelemetry</a> for more details.</p>
<div class="heading-wrapper" id="bodymap-mapping-mode"><h3><a class="headerlink" href="#bodymap-mapping-mode">Bodymap mapping mode</a></h3>
</div>
<p>In <code>bodymap</code> mapping mode, the Elasticsearch Exporter supports only logs and takes the body of a log record as the exact content of the Elasticsearch document without any transformation. Use this mapping mode when you want to have complete control over the Elasticsearch document structure.</p>
<div class="heading-wrapper" id="none-mapping-mode"><h3><a class="headerlink" href="#none-mapping-mode">None mapping mode</a></h3>
</div>
<p>In the <code>none</code> mapping mode the Elasticsearch Exporter produces documents with the original field names from the OTLP data structures.</p>
<div class="heading-wrapper" id="raw-mapping-mode"><h3><a class="headerlink" href="#raw-mapping-mode">Raw mapping mode</a></h3>
</div>
<p>The <code>raw</code> mapping mode is identical to <code>none</code>, except for two differences:</p>
<ul>
<li>In <code>none</code> mode attributes are mapped with an <code>Attributes.</code> prefix, while in <code>raw</code> mode they are not.</li>
<li>In <code>none</code> mode span events are mapped with an <code>Events.</code> prefix, while in <code>raw</code> mode they are not.</li>
</ul>
<div class="heading-wrapper" id="document-routing"><h2><a class="headerlink" href="#document-routing">Document routing</a></h2>
</div>
<p>Documents are statically or dynamically routed to the target index or data stream. The first routing mode that applies is used, in the following order:</p>
<div class="heading-wrapper" id="static-mode"><h3><a class="headerlink" href="#static-mode">Static mode</a></h3>
</div>
<p>Static mode routes documents to <code>logs_index</code> for log records, <code>metrics_index</code> for data points, and <code>traces_index</code> for spans, if these configs aren't empty respectively.</p>
<div class="heading-wrapper" id="dynamic-mode-index-attribute"><h3><a class="headerlink" href="#dynamic-mode-index-attribute">Dynamic mode (Index attribute)</a></h3>
</div>
<p>Dynamic mode (Index attribute) routes documents to index name specified in <code>elasticsearch.index</code> attribute, with the following order of precedence: log record / data point / span attribute -&gt; scope attribute -&gt; resource attribute if the attribute exists.</p>
<div class="heading-wrapper" id="dynamic-mode-data-stream-routing"><h3><a class="headerlink" href="#dynamic-mode-data-stream-routing">Dynamic mode (Data stream routing)</a></h3>
</div>
<p>Dynamic mode (Data stream routing) routes documents to data stream constructed from <code>${data_stream.type}-${data_stream.dataset}-${data_stream.namespace}</code>,
where <code>data_stream.type</code> is <code>logs</code> for log records, <code>metrics</code> for data points, and <code>traces</code> for spans, and is static. The following rules apply:</p>
<ul>
<li><code>data_stream.dataset</code> or <code>data_stream.namespace</code> in attributes, with the following order of precedence: log record / data point / span attribute -&gt; scope attribute -&gt; resource attribute</li>
<li>Otherwise, if the scope name matches the <code>/receiver/(\w*receiver)</code> regular expression, <code>data_stream.dataset</code> is the first capture group.</li>
<li>Otherwise, <code>data_stream.dataset</code> falls back to <code>generic</code> and <code>data_stream.namespace</code> falls back to <code>default</code>.</li>
</ul>
<p>If the mapping mode is set to <code>bodymap</code>, the <code>data_stream.type</code> field can be dynamically set from attributes. The resulting documents contain the corresponding <code>data_stream.*</code> fields. Refer to <a href="https://docs-v3-preview.elastic.dev/elastic/ecs/tree/main/reference/ecs-data_stream" hx-select-oob="#main-container" preload="mousedown">Data Stream Fields</a> for the restrictions applied to the data stream fields.</p>
<div class="heading-wrapper" id="document-routing-settings"><h3><a class="headerlink" href="#document-routing-settings">Document routing settings</a></h3>
</div>
<p>These settings allow you to customize document routing:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>logs_index</code></td>
<td>-</td>
<td>The index or data stream name to publish logs (and span events in OTel mapping mode) to. Should be empty unless all logs are to be sent to the same index.</td>
</tr>
<tr>
<td><code>metrics_index</code></td>
<td>-</td>
<td>The index or data stream name to publish metrics to. Should be empty unless all metrics should be sent to the same index.</td>
</tr>
<tr>
<td><code>traces_index</code></td>
<td>-</td>
<td>The index or data stream name to publish traces to. Should be empty unless all traces should be sent to the same index.</td>
</tr>
<tr>
<td><code>logstash_format::enabled</code></td>
<td><code>false</code></td>
<td>Turns on or off Logstash format compatibility. When active, the index name is composed using the dynamic routing rules as prefix and the date as suffix. For example, <code>logs-generic-default-YYYY.MM.DD</code>.</td>
</tr>
<tr>
<td><code>logstash_format::prefix_separator</code></td>
<td><code>-</code></td>
<td>Set a separator between logstash prefix and date.</td>
</tr>
<tr>
<td><code>logstash_format::date_format</code></td>
<td><code>%Y.%m.%d</code></td>
<td>Time format based on strftime to generate the second part of the index name.</td>
</tr>
<tr>
<td><code>logs_dynamic_id::enabled</code></td>
<td><code>false</code></td>
<td>Turns on or off dynamic ID for log records. If <code>elasticsearch.document_id</code> exists and isn't empty in log record attributes, it's used as the document ID. Otherwise, Elasticsearch generates the ID. The attribute is removed from the final document when using <code>otel</code> mapping mode.</td>
</tr>
</tbody>
</table>
</div><div class="heading-wrapper" id="document-routing-exceptions"><h3><a class="headerlink" href="#document-routing-exceptions">Document routing exceptions</a></h3>
</div>
<p>When using the default OpenTelemetry mapping mode, additional handling is applied to the previous document routing rules:</p>
<ol>
<li>Static mode: Span events are separate documents routed to <code>logs_index</code> if non-empty.</li>
<li>Dynamic - Index attribute mode: Span events are separate documents routed using attribute <code>elasticsearch.index</code>, with the following order of precedence: span event attribute -&gt; scope attribute -&gt; resource attribute if the attribute exists.</li>
<li>Dynamic - Data stream routing mode: For all documents, <code>data_stream.dataset</code> always ends with <code>.otel</code>. Span events are separate documents that have <code>data_stream.type: logs</code> and are routed using data stream attributes, with the following order of precedence: span event attribute -&gt; scope attribute -&gt; resource attribute.</li>
</ol>
<p>The <code>elasticsearch.index</code> attribute is removed from the final document if it exists.</p>
<div class="heading-wrapper" id="performance-and-batching"><h2><a class="headerlink" href="#performance-and-batching">Performance and batching</a></h2>
</div>
<p>The exporter supports both internal batching and OpenTelemetry's standard <code>sending_queue</code> configuration:</p>
<div class="heading-wrapper" id="internal-batching-default"><h3><a class="headerlink" href="#internal-batching-default">Internal batching (default)</a></h3>
</div>
<p>By default, the exporter performs its own buffering and batching, as configured through the <code>flush</code> setting, unless the <code>sending_queue</code> and  <code>batcher</code> settings are defined.</p>
<div class="heading-wrapper" id="using-sending-queue"><h3><a class="headerlink" href="#using-sending-queue">Using sending queue</a></h3>
</div>
<p>The Elasticsearch exporter supports the <code>sending_queue</code> setting, which supports both queueing and batching. However, the sending queue is currently deactivated by default. You can turn on the sending queue by setting <code>sending_queue</code> to true. Batching support in sending queue is also deactivated by default and can be turned on by defining <code>sending_queue::batch</code>. For example:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">exporters:
  elasticsearch:
    endpoint: https://elasticsearch:9200
    sending_queue:
      enabled: true
      batch:
        enabled: true
        min_size: 1000
        max_size: 10000
        timeout: 5s
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="bulk-indexing"><h2><a class="headerlink" href="#bulk-indexing">Bulk indexing</a></h2>
</div>
<p>The Elasticsearch exporter uses the <a href="https://www.elastic.co/docs/api/doc/elasticsearch/operation/operation-bulk" target="_blank" rel="noopener noreferrer">Elasticsearch Bulk API</a> for indexing documents. Configure the behavior of bulk indexing with the following settings:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>num_workers</code></td>
<td><code>runtime.NumCPU()</code></td>
<td>Number of workers publishing bulk requests concurrently. Note this isn't applicable if <code>batcher::enabled</code> is <code>true</code> or <code>false</code>.</td>
</tr>
<tr>
<td><code>flush::bytes</code></td>
<td><code>5000000</code></td>
<td>Write buffer flush size limit before compression. A bulk request are sent immediately when its buffer exceeds this limit. This value should be much lower than <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html#http-settings" target="_blank" rel="noopener noreferrer">Elasticsearch's <code>http.max_content_length</code></a> config to avoid HTTP 413 Entity Too Large error. Keep this value under 5 MB.</td>
</tr>
<tr>
<td><code>flush::interval</code></td>
<td><code>10s</code></td>
<td>Write buffer flush time limit.</td>
</tr>
<tr>
<td><code>retry::enabled</code></td>
<td><code>true</code></td>
<td>Turns on or off request retry on error. Failed requests are retried with exponential backoff.</td>
</tr>
<tr>
<td><code>retry::max_requests</code></td>
<td>DEPRECATED</td>
<td>Number of HTTP request retries including the initial attempt. If used, <code>retry::max_retries</code> is set to <code>max_requests - 1</code>. Use <code>retry::max_retries</code> instead.</td>
</tr>
<tr>
<td><code>retry::max_retries</code></td>
<td><code>2</code></td>
<td>Number of HTTP request retries. To turn off retries, set <code>retry::enabled</code> to <code>false</code> instead of setting <code>max_retries</code> to <code>0</code>.</td>
</tr>
<tr>
<td><code>retry::initial_interval</code></td>
<td><code>100ms</code></td>
<td>Initial waiting time if an HTTP request failed.</td>
</tr>
<tr>
<td><code>retry::max_interval</code></td>
<td><code>1m</code></td>
<td>Max waiting time if an HTTP request failed.</td>
</tr>
<tr>
<td><code>retry::retry_on_status</code></td>
<td><code>[429]</code></td>
<td>Status codes that trigger request or document level retries. Request level retry and document level retry status codes are shared and cannot be configured separately. To avoid duplicates, it defaults to <code>[429]</code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>The <code>flush::interval</code> config is ignored when <code>batcher::enabled</code> config is explicitly set to true or false.</p>
</div>
</div>
<p>Starting from Elasticsearch 8.18 and higher, the <a href="https://www.elastic.co/docs/api/doc/elasticsearch/operation/operation-bulk#operation-bulk-include_source_on_error" target="_blank" rel="noopener noreferrer"><code>include_source_on_error</code></a> query parameter allows users to receive the source document in the error response if there were parsing errors in the bulk request. In the exporter, the equivalent configuration is also named <code>include_source_on_error</code>.</p>
<ul>
<li><code>include_source_on_error</code>:
<ul>
<li><code>true</code>: Turns on bulk index responses to include source document on error. 
<span class="applies applies-inline">


			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack version 8.18.0 and later unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


					<span class="applicable-separator"></span>
				<span class="applicable-meta applicable-meta-ga">
							<span class="applicable-version applicable-version-ga">
								8.18.0
							</span>
				</span>
			</span>



</span>
</li>
<li><code>false</code>: Turns off including source document on bulk index error responses. 
<span class="applies applies-inline">


			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack version 8.18.0 and later unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


					<span class="applicable-separator"></span>
				<span class="applicable-meta applicable-meta-ga">
							<span class="applicable-version applicable-version-ga">
								8.18.0
							</span>
				</span>
			</span>



</span>
</li>
<li><code>null</code> (default): Backward-compatible option for older Elasticsearch versions. By default, the error reason is discarded from bulk index responses entirely. Only the error type is returned.</li>
</ul>
</li>
</ul>
<div class="admonition warning">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"/>
					</svg>
		<span>Warning</span>
	</div>
	<div class="admonition-content"><p>The exporter might log error responses containing request payload, causing potential sensitive data to be exposed in logs.</p>
</div>
</div>
<div class="heading-wrapper" id="ingest-pipeline-support"><h2><a class="headerlink" href="#ingest-pipeline-support">Ingest pipeline support</a></h2>
</div>
<p>Documents can be passed through an [Elasticsearch Ingest pipeline] before indexing. Use these settings to configure the ingest pipeline:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Setting</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pipeline</code></td>
<td>-</td>
<td>ID of an Elasticsearch Ingest pipeline used for processing documents published by the exporter.</td>
</tr>
<tr>
<td><code>logs_dynamic_pipeline::enabled</code></td>
<td><code>false</code></td>
<td>Turn on or off the dynamic pipeline. If <code>elasticsearch.ingest_pipeline</code> attribute exists in log record attributes and isn't empty, it's used as the Elasticsearch ingest pipeline. This currently only applies to the log signal. The attribute is removed from the final document when using <code>otel</code> mapping mode.</td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">exporters:
  elasticsearch:
    endpoint: https://elasticsearch:9200
    pipeline: &quot;my-custom-pipeline&quot;
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="elasticsearch-node-discovery"><h2><a class="headerlink" href="#elasticsearch-node-discovery">Elasticsearch node discovery</a></h2>
</div>
<p>The Elasticsearch Exporter regularly checks Elasticsearch for available nodes. Newly discovered nodes are automatically used for load balancing.</p>
<p>The following settings are related to node discovery:</p>
<ul>
<li><code>discover</code>:
<ul>
<li><code>on_start</code> (optional): If enabled the exporter queries Elasticsearch
for all known nodes in the cluster on startup.</li>
<li><code>interval</code> (optional): Interval to update the list of Elasticsearch nodes.</li>
</ul>
</li>
</ul>
<p>To turn off node discovery, set <code>discover.interval</code> to <code>0</code>.</p>
<div class="heading-wrapper" id="known-limitations"><h2><a class="headerlink" href="#known-limitations">Known limitations</a></h2>
</div>
<p>The following are some known limitations of the Elasticsearch exporter:</p>
<ul>
<li>Metrics support is currently in development and might have limitations.</li>
<li>Profile support requires Universal Profiling to be installed in Elasticsearch.</li>
<li>Some mapping modes might have reduced functionality for certain telemetry types.</li>
<li>The <code>bodymap</code> mode only supports logs and ignores other telemetry types.</li>
</ul>
<div class="heading-wrapper" id="known-issues"><h2><a class="headerlink" href="#known-issues">Known issues</a></h2>
</div>
<p>The following are the main known issues with the Elasticsearch exporter:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Issue</th>
<th>Cause</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>version_conflict_engine_exception</strong></td>
<td>TSDB data streams require unique documents per timestamp. Occurs with OTel mapping mode on Elasticsearch 8.16+ or ECS mode with system integration streams.</td>
<td>Update to Elasticsearch version 8.17.6 or higher and the Elasticsearch exporter version 0.121.0 or higher, or install a custom component template. Remove batch processors to prevent metric splitting.</td>
</tr>
<tr>
<td><strong>flush failed (400) illegal_argument_exception</strong></td>
<td>OTel mapping mode, which is default from version 0.122.0, requires Elasticsearch 8.12 or higher.</td>
<td>Upgrade Elasticsearch to 8.12 or higher or use alternative mapping modes.</td>
</tr>
</tbody>
</table>
</div><div class="heading-wrapper" id="troubleshooting"><h2><a class="headerlink" href="#troubleshooting">Troubleshooting</a></h2>
</div>
<p>When you encounter issues with the Elasticsearch exporter, you can try the following:</p>
<ul>
<li>Make sure your Elasticsearch version is compatible with your chosen mapping mode.</li>
<li>Verify your API keys or credentials are valid and have appropriate permissions.</li>
<li>Check that your Elasticsearch cluster supports the required features for your mapping mode.</li>
</ul>

</section>

						</article>
						<footer id="prev-next-nav" class="content-container mt-20 px-4">
	<div class="flex flex-wrap lg:flex-nowrap gap-2 mt-2">
		<div class="w-full">
				<a 
					href="/reference/edot-collector/components"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md"
				>
					<svg class="size-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"/>
					</svg>
					<div>
						<div class="text-xs lg:text-sm">Previous</div>
						<div class="text-base lg:text-xl text-black">Components</div>
					</div>
				</a>
		</div>
		<div class="w-full">
				<a 
					href="/reference/edot-collector/components/elasticapmintakereceiver"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center justify-end text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md text-right"
				>
					<div>
						<div class="text-xs lg:text-sm">Next</div>
						<div class="text-base lg:text-xl text-black">Elastic APM intake receiver</div>
					</div>
					<svg class="size-6 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
					</svg>
				</a>
		</div>
	</div>
</footer>

					</main>
					<div class="spacer"></div>
				</div>
			</div>
		</div>

</div>

<footer class="py-12 px-6 w-full mx-auto bg-ink-dark">
	<div class="max-w-(--max-layout-width) w-full mx-auto">
	<div class="text-grey-20 text-[12px]">
		<a href="https://www.elastic.co/">
			<img class="block" loading="lazy" alt="Elastic logo" src="/_static/logo-elastic-horizontal-white.svg?v=19bc4040eda89518" width="120" height="41"/>
		</a>
	</div>
	<div class="text-grey-20 text-[12px] bg-ink-dark grid grid-cols-1 md:grid-cols-2 gap-2 items-center">
		<div>
			<ul class="mt-4 flex gap-3">
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/trademarks">Trademarks</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/terms-of-use">Terms of Use</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/privacy-statement">Privacy</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/sitemap">Sitemap</a>
				</li>
			</ul>
			<p class="mt-4">
				 2025 Elasticsearch B.V. All Rights Reserved.
			</p>
		</div>
		<div class="mt-4">
			<p>
				This content is available in different formats for convenience only. All original licensing terms apply.
			</p>
			<p class="mt-4">
				Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries. Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries. 
			</p>
		</div>
	</div>
	</div>
</footer>


</body>
</html>
