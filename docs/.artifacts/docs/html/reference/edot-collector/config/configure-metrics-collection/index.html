<!DOCTYPE html>
<html lang="en" class="h-screen" xmlns="http://www.w3.org/1999/html">
<head hx-head="merge">
		<meta charset="utf-8">
	<title>Configure metrics collection | Elastic Agent release notes</title>
	<meta name="description" content="Learn how to configure and customize metrics collection through the Elastic Distribution of OpenTelemetry Collector.">
		<link rel="preload" href="/_static/InterVariable.e6ec8b96.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Regular.efa24115.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Bold.01af95ca.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Demi.845945e0.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="stylesheet preload" as="style" type="text/css" href="/_static/styles.css?v=c7dd3d5020c9f700" crossorigin/>
	<script src="/_static/custom-elements.js?v=6d04fe607c8ff795" defer></script>
	<script src="/_static/main.js?v=33f2ee447d46514e" defer></script>
		<link rel="canonical" href="https://docs-v3-preview.elastic.dev/reference/edot-collector/config/configure-metrics-collection" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="apple-touch-icon" sizes="57x57" href="https://elastic.co/apple-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="60x60" href="https://elastic.co/apple-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="https://elastic.co/apple-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="https://elastic.co/apple-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="https://elastic.co/apple-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="https://elastic.co/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="https://elastic.co/apple-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="https://elastic.co/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://elastic.co/apple-icon-180x180.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="https://elastic.co/apple-icon-192x192.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-32x32.png" sizes="32x32"/>
<link rel="shortcut icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon-precomposed" sizes="64x64" href="https://elastic.co/favicon_64x64_16bit.png"/>
<link rel="apple-touch-icon-precomposed" sizes="32x32" href="https://elastic.co/favicon_32x32.png"/>
<link rel="apple-touch-icon-precomposed" sizes="16x16" href="https://elastic.co/favicon_16x16.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/android-chrome-192x192.png" sizes="192x192"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-96x96.png" sizes="96x96"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-16x16.png" sizes="16x16"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-48x48.png" sizes="48x48"/>

	<meta name="robots" content="noindex, nofollow">
	<meta name="htmx-config" content='{"selfRequestsOnly": true}'>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Configure metrics collection | Elastic Agent release notes"/>
	<meta property="og:description" content="Learn how to configure and customize metrics collection through the Elastic Distribution of OpenTelemetry Collector."/>
	<meta property="og:image" content="https://www.elastic.co/static-res/images/social_media_default.png"/>
	<meta property="og:image:alt" content="Elastic | The Search AI Company"/>
		<meta property="og:url" content="https://docs-v3-preview.elastic.dev/reference/edot-collector/config/configure-metrics-collection" />
	<meta property="docs:feature:lazy-load-navigation" content="False" />

				<meta class="elastic" name="product_version" content="9.0+"/>
			<meta name="DC.identifier" content="9.0+"/>
			<link rel="alternate" type="text/markdown" href="/reference/edot-collector/config/configure-metrics-collection.md" title="Markdown export"/>
			<meta class="elastic" name="product_name" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry Collector,Elastic Agent"/>
			<meta name="DC.subject" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry Collector,Elastic Agent"/>

</head>

<body
	class="group/body text-ink has-[#primary-nav-hamburger:checked]:overflow-hidden"
	hx-ext="preload, head-support"
	data-docs-builder-version="9AEEE8FE"
	data-root-path="/"
	hx-boost="true" hx-swap="none" hx-push-url="true" hx-indicator="#htmx-indicator"
	>
	<header class="sticky top-0 z-50 bg-blue-developer text-white h-(--offset-top) flex items-center">
		<div class="max-w-(--max-layout-width) w-full mx-auto flex justify-between items-center">
			<label role="button" class="md:hidden cursor-pointer" for="pages-nav-hamburger">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8">
					<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"/>
				</svg>
			</label>
			<a href="/" class="flex items-center gap-2 text-lg font-semibold px-4">
				<img src="/_static/logo-elastic-glyph-color.svg?v=f602ddacafcf3057" alt="" width="32" height="32">
				elastic-agent
			</a>
			<search-or-ask-ai></search-or-ask-ai>
		</div>
	</header>

<div id="main-container" class="flex flex-col items-center border-t-1 border-grey-20">
	
		<div class="max-w-(--max-layout-width) w-full h-full grid
					grid-cols-1
					md:grid-cols-[var(--max-sidebar-width)_1fr]
				">
			<aside class="sidebar bg-white fixed md:sticky shadow-2xl md:shadow-none left-[100%] group-has-[#pages-nav-hamburger:checked]/body:left-0 bottom-0 md:left-auto pl-6 md:pl-2 top-[calc(var(--offset-top)+1px)] w-[80%] md:w-auto shrink-0 border-r-1 border-r-grey-20 z-40 md:z-auto">
	
	<nav
		id="pages-nav"
		class="sidebar-nav h-full">
		
<div class="pb-20 font-body" id="nav-tree">
		<a
			href="/release-notes/"
			 hx-select-oob=#content-container,#toc-nav preload=mousedown
			class="inline-block mx-4 mt-6 font-semibold text-ink hover:text-black">
			Elastic Agent
		</a>

		<ul class="block px-4">
					<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/release-notes/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					Elastic Agent
				</a>
					<label for="587464A1" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="587464A1"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/known-issues"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Known issues
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/breaking-changes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Breaking changes
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/deprecations"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Deprecations
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					EDOT Collector
				</a>
					<label for="16101572" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="16101572"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					EDOT Collector
				</a>
					<label for="1070B6C7" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="1070B6C7"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/download"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Download
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/modes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Deployment modes
			</a>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/config/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Configuration
				</a>
					<label for="3BE51D81" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="3BE51D81"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/default-config-standalone"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Default config (Standalone)
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/default-config-k8s"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Default config (Kubernetes)
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/configure-logs-collection"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure Logs Collection
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/configure-metrics-collection"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure Metrics Collection
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/authentication-methods"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Authentication methods
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/proxy"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Proxy settings
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/components"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Components
				</a>
					<label for="1A10BF4B" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="1A10BF4B"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/components/elasticsearchexporter"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Elasticsearch exporter
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/components/elasticapmintakereceiver"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Elastic APM intake receiver
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/customization"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Customization
				</a>
					<label for="02A7F777" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="02A7F777"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/custom-collector"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Custom Collector
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/upstream-collector"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Use the contrib Collector
			</a>
		</li>
				</ul>
		</li>
				</ul>
		</li>

		</ul>
</div>

	</nav>
	<label role="button" for="pages-nav-hamburger" class="absolute md:hidden top-7 -right-12 bg-white p-1 rounded-full border-1 border-grey-20 cursor-pointer z-99">
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
			<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
		</svg>
	</label>
</aside>
<label for="pages-nav-hamburger" aria-hidden="true" class="hidden group-has-[#pages-nav-hamburger:checked]/body:block md:hidden! fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-30 ">
	
</label>

			<div class="lg:grid lg:grid-cols-[1fr_var(--max-sidebar-width)]">
				<aside class="sidebar md:block w-full lg:max-w-65 md:order-2 px-6 md:px-10 lg:px-0">
	<nav id="toc-nav" class="sidebar-nav lg:h-full flex flex-row-reverse lg:block items-center gap-4">
		<div class="mt-6">
			<version-dropdown current-version='9.0&#x2B;' items='[]'>
				<div class="h-8"></div>
			</version-dropdown>
		</div>
		<ul class="mt-6 hidden md:flex items-center lg:block gap-4">
			<li class="view-as-markdown lg:not-first:mt-1">
				<a href="/reference/edot-collector/config/configure-metrics-collection.md" class="link text-sm" target="_blank">
					<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 -1 24 24">
						<path fill="currentColor" d="M22.131725 19.247H1.9386225C1.0239525 19.247 0.25 18.47305 0.25 17.558375v-11.11675c0 -0.914675 0.7739525 -1.688625 1.6886225 -1.688625H22.061375c0.914675 0 1.688625 0.77395 1.688625 1.688625v11.11675c0 0.914675 -0.7036 1.688625 -1.618275 1.688625ZM1.9386225 5.87875c-0.2814375 0 -0.562875 0.281425 -0.562875 0.562875v11.11675c0 0.3518 0.2814375 0.562875 0.562875 0.562875H22.061375c0.3518 0 0.562875 -0.281425 0.562875 -0.562875v-11.11675c0 -0.3518 -0.281425 -0.562875 -0.562875 -0.562875l-20.1227525 0ZM3.62725 15.86975V8.130225h2.2515l2.2515 2.814375 2.251475 -2.814375h2.2515V15.86975h-2.2515V11.437125L8.13025 14.2515l-2.2515 -2.814375V15.86975h-2.2515Zm14.1422 0L14.392225 12.140725h2.251475v-4.0105h2.2515v3.940125h2.2515L17.76945 15.86975Z" stroke-width="0.25"></path>
					</svg>
					View as markdown
				</a>
			</li>
				<li class="edit-this-page lg:not-first:mt-1 ">
					<a href="https://github.com/elastic/elastic-agent/edit/add-collector-docs/docs/reference/edot-collector/config/configure-metrics-collection.md" class="link text-sm" target="_blank">
						<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"/>
						</svg>
						Edit this page
					</a>
				</li>
			<li class="report-an-issue lg:not-first:mt-1">
				<a href="https://github.com/elastic/docs-content/issues/new?template=issue-report.yaml&amp;link=https://docs-v3-preview.elastic.dev/reference/edot-collector/config/configure-metrics-collection&amp;labels=source:web" class="link text-sm" target="_blank">
					<svg class="link-icon" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"/>
					</svg>
					Report an issue
				</a>
			</li>
		</ul>
		<div class="pt-6 hidden lg:block">
				<div>
					<div class="font-bold mb-2">On this page</div>
					<div class="relative toc-progress-container font-body">
						<div class="toc-progress-indicator absolute top-0 h-0 w-[1px] bg-blue-elastic transition-all duration-200 ease-out "></div>
						<ul class="block w-full">
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#otlp-metrics">
										OTLP metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#host-metrics">
										Host metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#process-metrics">
										Process metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#kubernetes-metrics">
										Kubernetes metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#kubelet-metrics">
										Kubelet metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#cluster-metrics">
										Cluster metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#other-metrics">
										Other metrics
									</a>
								</li>
						</ul>
					</div>
				</div>

		</div>

	</nav>
</aside>

				<div class="justify-center grid
						grid-cols-1
						px-6 lg:px-0
						lg:grid-cols-[1fr_var(--max-text-width)_1fr]
						lg:order-1
						">
					<div class="spacer"></div>
					<main id="content-container" class="w-full flex flex-col relative pb-30 overflow-x-hidden">
						<div class="w-full absolute top-0 left-0 right-0 htmx-indicator" id="htmx-indicator" role="status">
							<div class="h-[2px] w-full overflow-hidden">
								<div class="progress w-full h-full bg-pink-70 left-right"></div>
							</div>
							<div class="sr-only">Loading</div>
						</div>
						<div class="content-container md:px-4">
							
<ol id="breadcrumbs" class="block items-center w-full py-6" itemscope="" itemtype="https://schema.org/BreadcrumbList">
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<a
				hx-disable="true"
				itemprop="item"
				href="/reference/edot-collector/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">EDOT Collector</span>
			</a>
			<meta itemprop="position" content="1">
		</li>
	
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<span class="px-1">/</span>
			<a
				itemprop="item" 
				href="/reference/edot-collector/config/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">Configuration</span>
			</a>
			<meta itemprop="position" content="2">
		</li>
	<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
		<span class="px-1">/</span>
	</li>
</ol>

						</div>
						
						<article id="markdown-content" class="content-container markdown-content md:px-4">
							<input type="checkbox" class="hidden" id="pages-nav-hamburger">
							<section id="elastic-docs-v3">
	<h1>Configure metrics collection</h1>

		<p class="applies applies-block">
		

			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Available on Serverless&nbsp;Observability projects unless otherwise specified.">
				<span class="applicable-name">Serverless Observability</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>



		</p>
	<p>Learn how to configure and customize metrics collection through the Elastic Distribution of OpenTelemetry Collector.</p>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>Elasticsearch Ingest Pipelines are not yet applicable to OTel-native data. Use OTel Collector processing pipelines for pre-processing metrics.</p>
</div>
</div>
<div class="heading-wrapper" id="otlp-metrics"><h2><a class="headerlink" href="#otlp-metrics">OTLP metrics</a></h2>
</div>
<p>Any application emitting metrics through OpenTelemetry Protocol (OTLP) can forward them to the EDOT Collector using the OTLP receiver. This is the recommended method for collecting application-level telemetry.</p>
<p>The following OTLP receiver configuration turns on both gRPC and HTTP protocols for incoming OTLP traffic:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml"># [OTLP Receiver](https://github.com/open-telemetry/opentelemetry-collector/tree/main/receiver/otlpreceiver)
receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318
</code></pre>
	</div>
</div>
<p>Configure your application to export metrics using the OTLP protocol, targeting the endpoints provided in the previous example.</p>
<div class="heading-wrapper" id="host-metrics"><h2><a class="headerlink" href="#host-metrics">Host metrics</a></h2>
</div>
<p>The <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/hostmetricsreceiver" target="_blank" rel="noopener noreferrer">hostmetrics receiver</a> turns on the collection of host-level metrics such as CPU use, memory use, and filesystem stats.</p>
<p>The following configuration collects a standard set of host metrics that aligns with Elastic's Infrastructure dashboards in Kibana:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">hostmetrics:
  collection_interval: 10s
  root_path: /proc<span style="display: inline-block; width: 0ch"></span><span class="code-callout" data-index="1"></span>
  scrapers:
    cpu:
      metrics:
        system.cpu.utilization:
          enabled: true
        system.cpu.logical.count:
          enabled: true
    memory:
      metrics:
        system.memory.utilization:
          enabled: true
    network: {}
    processes: {}
    load: {}
    disk: {}
    filesystem:
      exclude_mount_points:
        mount_points:
          - /dev/*
          - /proc/*
          - /sys/*
          - /run/k3s/containerd/*
          - /var/lib/docker/*
          - /var/lib/kubelet/*
          - /snap/*
        match_type: regexp
      exclude_fs_types:
        fs_types:
          - autofs
          - binfmt_misc
          - bpf
          - cgroup2
          - configfs
          - debugfs
          - devpts
          - devtmpfs
          - fusectl
          - hugetlbfs
          - iso9660
          - mqueue
          - nsfs
          - overlay
          - proc
          - procfs
          - pstore
          - rpc_pipefs
          - securityfs
          - selinuxfs
          - squashfs
          - sysfs
          - tracefs
        match_type: strict
</code></pre>
	</div>
</div>
<ol class="code-callouts">
<li>
Mounted node's root file system
</li>
</ol>
<p>You must grant access to the <code>/proc</code> filesystem to the receiver by running the Collector with privileged access and mounting /proc and /sys appropriately. Refer to the hostmetrics container use <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/hostmetricsreceiver#collecting-host-metrics-from-inside-a-container-linux-only" target="_blank" rel="noopener noreferrer">guide</a> (Linux only).</p>
<p>Turning on the process scraper might significantly increase the volume of scraped metrics, potentially impacting performance. Refer to the contrib issue <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39423" target="_blank" rel="noopener noreferrer">#39423</a> for discussion.</p>
<p>To ensure compatibility with Kibana's Infrastructure dashboards, include the <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/processor/elasticinframetricsprocessor" target="_blank" rel="noopener noreferrer">elasticinframetrics processor</a> in your pipeline:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">service:
  pipelines:
    metrics/infra:
      receivers:
        - hostmetrics
      processors:
        - elasticinframetrics
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="process-metrics"><h3><a class="headerlink" href="#process-metrics">Process metrics</a></h3>
</div>
<p>Process metrics are turned off by default to avoid generating a large volume of timeseries data. To turn on process metrics, uncomment or add the following section inside the <code>hostmetrics</code> receiver configuration:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">process:
   mute_process_exe_error: true
   mute_process_io_error: true
   mute_process_user_error: true
   metrics:
      process.threads:
      enabled: true
      process.open_file_descriptors:
      enabled: true
      process.memory.utilization:
      enabled: true
      process.disk.operations:
      enabled: true
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="kubernetes-metrics"><h2><a class="headerlink" href="#kubernetes-metrics">Kubernetes metrics</a></h2>
</div>
<p>You can collect Kubernetes metrics using multiple receivers depending on the type and source of the metrics. Each receiver might require specific Kubernetes permissions and require a deployment as DaemonSets or singletons.</p>
<p>As with host metrics, use the <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/processor/elasticinframetricsprocessor" target="_blank" rel="noopener noreferrer">elasticinframetrics processor</a> to ensure metrics align with the Kibana Infrastructure inventory.</p>
<div class="heading-wrapper" id="kubelet-metrics"><h3><a class="headerlink" href="#kubelet-metrics">Kubelet metrics</a></h3>
</div>
<p>The <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kubeletstatsreceiver" target="_blank" rel="noopener noreferrer">kubeletstats</a> receiver collects resource usage stats directly from the Kubelet's /stats/summary endpoint. Stats include pod-level and node-level metrics.</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">kubeletstats:
  auth_type: serviceAccount # Authentication mechanism with the Kubelet endpoint, refer to: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kubeletstatsreceiver#configuration
  collection_interval: 20s
  endpoint: ${env:OTEL_K8S_NODE_NAME}:10250
  node: '${env:OTEL_K8S_NODE_NAME}'
  # Required to work for all CSPs without an issue
  insecure_skip_verify: true
  k8s_api_config:
    auth_type: serviceAccount
  metrics:
    k8s.pod.memory.node.utilization:
      enabled: true
    k8s.pod.cpu.node.utilization:
      enabled: true
    k8s.container.cpu_limit_utilization:
      enabled: true
    k8s.pod.cpu_limit_utilization:
      enabled: true
    k8s.container.cpu_request_utilization:
      enabled: true
    k8s.container.memory_limit_utilization:
      enabled: true
    k8s.pod.memory_limit_utilization:
      enabled: true
    k8s.container.memory_request_utilization:
      enabled: true
    k8s.node.uptime:
      enabled: true
    k8s.node.cpu.usage:
      enabled: true
    k8s.pod.cpu.usage:
      enabled: true
  extra_metadata_labels:
    - container.id
</code></pre>
	</div>
</div>
<p>To capture stats from every node in the cluster, deploy the Collector with the kubeletstats receiver as a DaemonSet.</p>
<div class="heading-wrapper" id="cluster-metrics"><h3><a class="headerlink" href="#cluster-metrics">Cluster metrics</a></h3>
</div>
<p>The <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/k8sclusterreceiver" target="_blank" rel="noopener noreferrer">k8sclusterreceiver</a> gathers metrics and entity events directly from the Kubernetes API server. It captures cluster-wide resources like nodes, deployments, pods, and more.</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">k8s_cluster:
  auth_type: serviceAccount # Determines how to authenticate to the K8s API server. This can be one of none (for no auth), serviceAccount (to use the standard service account token provided to the agent pod), or kubeConfig to use credentials from ~/.kube/config.
  node_conditions_to_report:
    - Ready
    - MemoryPressure
  allocatable_types_to_report:
    - cpu
    - memory
  metrics:
    k8s.pod.status_reason:
      enabled: true
  resource_attributes:
    k8s.kubelet.version:
      enabled: true
    os.description:
      enabled: true
    os.type:
      enabled: true
    k8s.container.status.last_terminated_reason:
      enabled: true
</code></pre>
	</div>
</div>
<p>Run a single instance of this receiver, for example as a Deployment, with sufficient permissions to access the K8s API server.</p>
<div class="heading-wrapper" id="other-metrics"><h2><a class="headerlink" href="#other-metrics">Other metrics</a></h2>
</div>
<p>The EDOT Collector supports a wide range of metrics receivers for popular software systems, including:</p>
<ul>
<li><p>Redis (<a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/redisreceiver" target="_blank" rel="noopener noreferrer">redisreceiver</a>): Retrieve Redis INFO data from a single Redis instance.</p>
</li>
<li><p>JMX-based applications (<a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/jmxreceiver" target="_blank" rel="noopener noreferrer">jmxreceiver</a>): Open a child Java process running the JMX Metric Gatherer configured with your specified JMX connection information and target Groovy script. It then reports metrics to an implicitly created OTLP receiver.</p>
</li>
<li><p>Prometheus scrape targets (<a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/prometheusreceiver" target="_blank" rel="noopener noreferrer">prometheusreceiver</a>): Receives metric data in <a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer">Prometheus</a> format.</p>
</li>
<li><p>Kafka (<a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kafkareceiver" target="_blank" rel="noopener noreferrer">kafkareceiver</a>): Receives telemetry data from Kafka, with configurable topics and encodings.</p>
</li>
</ul>
<p>For a full list of supported receivers, see the EDOT Collector components <a href="/reference/edot-collector/components" hx-select-oob="#content-container,#toc-nav" preload="mousedown">reference</a>.</p>

</section>

						</article>
						<footer id="prev-next-nav" class="content-container mt-20 px-4">
	<div class="flex flex-wrap lg:flex-nowrap gap-2 mt-2">
		<div class="w-full">
				<a 
					href="/reference/edot-collector/config/configure-logs-collection"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md"
				>
					<svg class="size-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"/>
					</svg>
					<div>
						<div class="text-xs lg:text-sm">Previous</div>
						<div class="text-base lg:text-xl text-black">Configure Logs Collection</div>
					</div>
				</a>
		</div>
		<div class="w-full">
				<a 
					href="/reference/edot-collector/config/authentication-methods"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center justify-end text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md text-right"
				>
					<div>
						<div class="text-xs lg:text-sm">Next</div>
						<div class="text-base lg:text-xl text-black">Authentication methods</div>
					</div>
					<svg class="size-6 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
					</svg>
				</a>
		</div>
	</div>
</footer>

					</main>
					<div class="spacer"></div>
				</div>
			</div>
		</div>

</div>

<footer class="py-12 px-6 w-full mx-auto bg-ink-dark">
	<div class="max-w-(--max-layout-width) w-full mx-auto">
	<div class="text-grey-20 text-[12px]">
		<a href="https://www.elastic.co/">
			<img class="block" loading="lazy" alt="Elastic logo" src="/_static/logo-elastic-horizontal-white.svg?v=19bc4040eda89518" width="120" height="41"/>
		</a>
	</div>
	<div class="text-grey-20 text-[12px] bg-ink-dark grid grid-cols-1 md:grid-cols-2 gap-2 items-center">
		<div>
			<ul class="mt-4 flex gap-3">
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/trademarks">Trademarks</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/terms-of-use">Terms of Use</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/privacy-statement">Privacy</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/sitemap">Sitemap</a>
				</li>
			</ul>
			<p class="mt-4">
				Â© 2025 Elasticsearch B.V. All Rights Reserved.
			</p>
		</div>
		<div class="mt-4">
			<p>
				This content is available in different formats for convenience only. All original licensing terms apply.
			</p>
			<p class="mt-4">
				Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries. Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries. 
			</p>
		</div>
	</div>
	</div>
</footer>


</body>
</html>
