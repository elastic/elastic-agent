<!DOCTYPE html>
<html lang="en" class="h-screen" xmlns="http://www.w3.org/1999/html">
<head hx-head="merge">
		<meta charset="utf-8">
	<title>Default configuration of the EDOT Collector (Standalone) | Elastic Agent release notes</title>
	<meta name="description" content="Default configuration of the EDOT Collector in standalone mode.">
		<link rel="preload" href="/_static/InterVariable.e6ec8b96.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Regular.efa24115.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Bold.01af95ca.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Demi.845945e0.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="stylesheet preload" as="style" type="text/css" href="/_static/styles.css?v=c7dd3d5020c9f700" crossorigin/>
	<script src="/_static/custom-elements.js?v=6d04fe607c8ff795" defer></script>
	<script src="/_static/main.js?v=33f2ee447d46514e" defer></script>
		<link rel="canonical" href="https://docs-v3-preview.elastic.dev/reference/edot-collector/config/default-config-standalone" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="apple-touch-icon" sizes="57x57" href="https://elastic.co/apple-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="60x60" href="https://elastic.co/apple-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="https://elastic.co/apple-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="https://elastic.co/apple-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="https://elastic.co/apple-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="https://elastic.co/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="https://elastic.co/apple-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="https://elastic.co/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://elastic.co/apple-icon-180x180.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="https://elastic.co/apple-icon-192x192.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-32x32.png" sizes="32x32"/>
<link rel="shortcut icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon-precomposed" sizes="64x64" href="https://elastic.co/favicon_64x64_16bit.png"/>
<link rel="apple-touch-icon-precomposed" sizes="32x32" href="https://elastic.co/favicon_32x32.png"/>
<link rel="apple-touch-icon-precomposed" sizes="16x16" href="https://elastic.co/favicon_16x16.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/android-chrome-192x192.png" sizes="192x192"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-96x96.png" sizes="96x96"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-16x16.png" sizes="16x16"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-48x48.png" sizes="48x48"/>

	<meta name="robots" content="noindex, nofollow">
	<meta name="htmx-config" content='{"selfRequestsOnly": true}'>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Default configuration of the EDOT Collector (Standalone) | Elastic Agent release notes"/>
	<meta property="og:description" content="Default configuration of the EDOT Collector in standalone mode."/>
	<meta property="og:image" content="https://www.elastic.co/static-res/images/social_media_default.png"/>
	<meta property="og:image:alt" content="Elastic | The Search AI Company"/>
		<meta property="og:url" content="https://docs-v3-preview.elastic.dev/reference/edot-collector/config/default-config-standalone" />
	<meta property="docs:feature:lazy-load-navigation" content="False" />

				<meta class="elastic" name="product_version" content="9.0+"/>
			<meta name="DC.identifier" content="9.0+"/>
			<link rel="alternate" type="text/markdown" href="/reference/edot-collector/config/default-config-standalone.md" title="Markdown export"/>
			<meta class="elastic" name="product_name" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry Collector,Elastic Agent"/>
			<meta name="DC.subject" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry Collector,Elastic Agent"/>

</head>

<body
	class="group/body text-ink has-[#primary-nav-hamburger:checked]:overflow-hidden"
	hx-ext="preload, head-support"
	data-docs-builder-version="9AEEE8FE"
	data-root-path="/"
	hx-boost="true" hx-swap="none" hx-push-url="true" hx-indicator="#htmx-indicator"
	>
	<header class="sticky top-0 z-50 bg-blue-developer text-white h-(--offset-top) flex items-center">
		<div class="max-w-(--max-layout-width) w-full mx-auto flex justify-between items-center">
			<label role="button" class="md:hidden cursor-pointer" for="pages-nav-hamburger">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8">
					<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"/>
				</svg>
			</label>
			<a href="/" class="flex items-center gap-2 text-lg font-semibold px-4">
				<img src="/_static/logo-elastic-glyph-color.svg?v=f602ddacafcf3057" alt="" width="32" height="32">
				elastic-agent
			</a>
			<search-or-ask-ai></search-or-ask-ai>
		</div>
	</header>

<div id="main-container" class="flex flex-col items-center border-t-1 border-grey-20">
	
		<div class="max-w-(--max-layout-width) w-full h-full grid
					grid-cols-1
					md:grid-cols-[var(--max-sidebar-width)_1fr]
				">
			<aside class="sidebar bg-white fixed md:sticky shadow-2xl md:shadow-none left-[100%] group-has-[#pages-nav-hamburger:checked]/body:left-0 bottom-0 md:left-auto pl-6 md:pl-2 top-[calc(var(--offset-top)+1px)] w-[80%] md:w-auto shrink-0 border-r-1 border-r-grey-20 z-40 md:z-auto">
	
	<nav
		id="pages-nav"
		class="sidebar-nav h-full">
		
<div class="pb-20 font-body" id="nav-tree">
		<a
			href="/release-notes/"
			 hx-select-oob=#content-container,#toc-nav preload=mousedown
			class="inline-block mx-4 mt-6 font-semibold text-ink hover:text-black">
			Elastic Agent
		</a>

		<ul class="block px-4">
					<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/release-notes/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					Elastic Agent
				</a>
					<label for="587464A1" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="587464A1"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/known-issues"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Known issues
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/breaking-changes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Breaking changes
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/deprecations"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Deprecations
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					EDOT Collector
				</a>
					<label for="16101572" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="16101572"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					EDOT Collector
				</a>
					<label for="1070B6C7" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="1070B6C7"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/download"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Download
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/modes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Deployment modes
			</a>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/config/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Configuration
				</a>
					<label for="3BE51D81" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="3BE51D81"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/default-config-standalone"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Default config (Standalone)
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/default-config-k8s"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Default config (Kubernetes)
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/configure-logs-collection"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure Logs Collection
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/configure-metrics-collection"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure Metrics Collection
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/authentication-methods"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Authentication methods
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/config/proxy"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Proxy settings
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/components"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Components
				</a>
					<label for="1A10BF4B" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="1A10BF4B"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/components/elasticsearchexporter"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Elasticsearch exporter
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/components/elasticapmintakereceiver"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Elastic APM intake receiver
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/edot-collector/customization"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Customization
				</a>
					<label for="02A7F777" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="02A7F777"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/custom-collector"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Custom Collector
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/edot-collector/upstream-collector"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Use the contrib Collector
			</a>
		</li>
				</ul>
		</li>
				</ul>
		</li>

		</ul>
</div>

	</nav>
	<label role="button" for="pages-nav-hamburger" class="absolute md:hidden top-7 -right-12 bg-white p-1 rounded-full border-1 border-grey-20 cursor-pointer z-99">
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
			<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
		</svg>
	</label>
</aside>
<label for="pages-nav-hamburger" aria-hidden="true" class="hidden group-has-[#pages-nav-hamburger:checked]/body:block md:hidden! fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-30 ">
	
</label>

			<div class="lg:grid lg:grid-cols-[1fr_var(--max-sidebar-width)]">
				<aside class="sidebar md:block w-full lg:max-w-65 md:order-2 px-6 md:px-10 lg:px-0">
	<nav id="toc-nav" class="sidebar-nav lg:h-full flex flex-row-reverse lg:block items-center gap-4">
		<div class="mt-6">
			<version-dropdown current-version='9.0&#x2B;' items='[]'>
				<div class="h-8"></div>
			</version-dropdown>
		</div>
		<ul class="mt-6 hidden md:flex items-center lg:block gap-4">
			<li class="view-as-markdown lg:not-first:mt-1">
				<a href="/reference/edot-collector/config/default-config-standalone.md" class="link text-sm" target="_blank">
					<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 -1 24 24">
						<path fill="currentColor" d="M22.131725 19.247H1.9386225C1.0239525 19.247 0.25 18.47305 0.25 17.558375v-11.11675c0 -0.914675 0.7739525 -1.688625 1.6886225 -1.688625H22.061375c0.914675 0 1.688625 0.77395 1.688625 1.688625v11.11675c0 0.914675 -0.7036 1.688625 -1.618275 1.688625ZM1.9386225 5.87875c-0.2814375 0 -0.562875 0.281425 -0.562875 0.562875v11.11675c0 0.3518 0.2814375 0.562875 0.562875 0.562875H22.061375c0.3518 0 0.562875 -0.281425 0.562875 -0.562875v-11.11675c0 -0.3518 -0.281425 -0.562875 -0.562875 -0.562875l-20.1227525 0ZM3.62725 15.86975V8.130225h2.2515l2.2515 2.814375 2.251475 -2.814375h2.2515V15.86975h-2.2515V11.437125L8.13025 14.2515l-2.2515 -2.814375V15.86975h-2.2515Zm14.1422 0L14.392225 12.140725h2.251475v-4.0105h2.2515v3.940125h2.2515L17.76945 15.86975Z" stroke-width="0.25"></path>
					</svg>
					View as markdown
				</a>
			</li>
				<li class="edit-this-page lg:not-first:mt-1 ">
					<a href="https://github.com/elastic/elastic-agent/edit/add-collector-docs/docs/reference/edot-collector/config/default-config-standalone.md" class="link text-sm" target="_blank">
						<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"/>
						</svg>
						Edit this page
					</a>
				</li>
			<li class="report-an-issue lg:not-first:mt-1">
				<a href="https://github.com/elastic/docs-content/issues/new?template=issue-report.yaml&amp;link=https://docs-v3-preview.elastic.dev/reference/edot-collector/config/default-config-standalone&amp;labels=source:web" class="link text-sm" target="_blank">
					<svg class="link-icon" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"/>
					</svg>
					Report an issue
				</a>
			</li>
		</ul>
		<div class="pt-6 hidden lg:block">
				<div>
					<div class="font-bold mb-2">On this page</div>
					<div class="relative toc-progress-container font-body">
						<div class="toc-progress-indicator absolute top-0 h-0 w-[1px] bg-blue-elastic transition-all duration-200 ease-out "></div>
						<ul class="block w-full">
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#agent-mode">
										Agent mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#direct-ingestion-into-elasticsearch">
										Direct ingestion into Elasticsearch
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#using-the-managed-otlp-endpoint">
										Using the Managed OTLP Endpoint
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#gateway-mode">
										Gateway mode
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#example-configuration">
										Example configuration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#data-collection-and-processing">
										Data collection and processing
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#data-processing-and-transformation">
										Data processing and transformation
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#data-export">
										Data export
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#pipeline-configuration">
										Pipeline configuration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#central-configuration">
										Central configuration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#secure-connection">
										Secure connection
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#tls-configuration">
										TLS configuration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#authentication-settings">
										Authentication settings
									</a>
								</li>
						</ul>
					</div>
				</div>

		</div>

	</nav>
</aside>

				<div class="justify-center grid
						grid-cols-1
						px-6 lg:px-0
						lg:grid-cols-[1fr_var(--max-text-width)_1fr]
						lg:order-1
						">
					<div class="spacer"></div>
					<main id="content-container" class="w-full flex flex-col relative pb-30 overflow-x-hidden">
						<div class="w-full absolute top-0 left-0 right-0 htmx-indicator" id="htmx-indicator" role="status">
							<div class="h-[2px] w-full overflow-hidden">
								<div class="progress w-full h-full bg-pink-70 left-right"></div>
							</div>
							<div class="sr-only">Loading</div>
						</div>
						<div class="content-container md:px-4">
							
<ol id="breadcrumbs" class="block items-center w-full py-6" itemscope="" itemtype="https://schema.org/BreadcrumbList">
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<a
				hx-disable="true"
				itemprop="item"
				href="/reference/edot-collector/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">EDOT Collector</span>
			</a>
			<meta itemprop="position" content="1">
		</li>
	
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<span class="px-1">/</span>
			<a
				itemprop="item" 
				href="/reference/edot-collector/config/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">Configuration</span>
			</a>
			<meta itemprop="position" content="2">
		</li>
	<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
		<span class="px-1">/</span>
	</li>
</ol>

						</div>
						
						<article id="markdown-content" class="content-container markdown-content md:px-4">
							<input type="checkbox" class="hidden" id="pages-nav-hamburger">
							<section id="elastic-docs-v3">
	<h1>Default configuration of the EDOT Collector (Standalone)</h1>

		<p class="applies applies-block">
		

			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Available on Serverless&nbsp;Observability projects unless otherwise specified.">
				<span class="applicable-name">Serverless Observability</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>



		</p>
	<p>The default configuration of the Elastic Distribution of OpenTelemetry (EDOT) Collector includes pipelines for the collection of logs, host metrics, and data from OpenTelemetry SDKs.</p>
<p>The EDOT Collector can run in <a href="https://opentelemetry.io/docs/collector/deployment/agent/" target="_blank" rel="noopener noreferrer">Agent</a> or <a href="https://opentelemetry.io/docs/collector/deployment/gateway/" target="_blank" rel="noopener noreferrer">Gateway</a> mode:</p>
<ul>
<li>Agent mode: The EDOT Collector ingests data from infrastructure and SDKs and forwards it to Elastic or to another collector running in Gateway mode.</li>
<li>Gateway mode: The EDOT Collector ingests data from other collectors running in Agent mode and forwards it to Elastic.</li>
</ul>
<div class="heading-wrapper" id="agent-mode"><h2><a class="headerlink" href="#agent-mode">Agent mode</a></h2>
</div>
<p>The following sample config files for Agent mode are available:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Use Cases</th>
<th>Direct ingestion into Elasticsearch</th>
<th>Managed OTLP Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td>Platform logs</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.3/internal/pkg/otel/samples/linux/platformlogs.yml" target="_blank" rel="noopener noreferrer">Logs - ES</a></td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.3/internal/pkg/otel/samples/linux/managed_otlp/platformlogs.yml" target="_blank" rel="noopener noreferrer">Logs - OTLP</a></td>
</tr>
<tr>
<td>Platform logs and host metrics</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.3/internal/pkg/otel/samples/linux/platformlogs_hostmetrics.yml" target="_blank" rel="noopener noreferrer">Logs | Metrics - ES</a></td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.3/internal/pkg/otel/samples/linux/managed_otlp/platformlogs_hostmetrics.yml" target="_blank" rel="noopener noreferrer">Logs | Metrics - OTLP</a></td>
</tr>
<tr>
<td>Platform logs, host metrics, <br> and application telemetry</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.3/internal/pkg/otel/samples/linux/logs_metrics_traces.yml" target="_blank" rel="noopener noreferrer">Logs | Metrics | App - ES</a><br>(<em>default</em>)</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.3/internal/pkg/otel/samples/linux/managed_otlp/logs_metrics_traces.yml" target="_blank" rel="noopener noreferrer">Logs | Metrics | App - OTLP</a><br>(<em>default</em>)</td>
</tr>
</tbody>
</table>
</div>
<p>Use the previous example configurations as a reference when configuring your contrib Collector or customizing your EDOT Collector configuration.</p>
<p>The following sections describe the default pipelines by use cases.</p>
<div class="heading-wrapper" id="direct-ingestion-into-elasticsearch"><h3><a class="headerlink" href="#direct-ingestion-into-elasticsearch">Direct ingestion into Elasticsearch</a></h3>
</div>
<p>For self-managed and Elastic Cloud Hosted stack deployment use cases, ingest OpenTelemetry data from the EDOT Collector directly into Elasticsearch using the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" target="_blank" rel="noopener noreferrer"><code>elasticsearch</code></a> exporter.</p>
<p>Learn more about the configuration options for the <code>elasticsearch</code> exporter in the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/elasticsearchexporter/README.md#configuration-options" target="_blank" rel="noopener noreferrer">corresponding documentation</a>.</p>
<p>The <code>elasticsearch</code> exporter comes with two relevant data ingestion modes:</p>
<ul>
<li><code>ecs</code>: Writes data in backwards compatible Elastic Common Schema (ECS) format. Original attribute names and semantics might be lost during translation.</li>
<li><code>otel</code>: OTel attribute names and semantics are preserved.</li>
</ul>
<p>The goal of EDOT is to preserve OTel data formats and semantics as much as possible, so <code>otel</code> is the default mode for the EDOT Collector. Some use cases might require data to be exported in ECS format for backwards compatibility.</p>
<div class="heading-wrapper" id="logs-collection-pipeline"><h4><a class="headerlink" href="#logs-collection-pipeline">Logs collection pipeline</a></h4>
</div>
<p>For logs collection, the default configuration uses the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/filelogreceiver" target="_blank" rel="noopener noreferrer"><code>filelog</code></a> receiver to read log entries from files. In addition, the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourcedetectionprocessor" target="_blank" rel="noopener noreferrer"><code>resourcedetection</code></a> processor enriches the log entries with metadata about the corresponding host and operating system.</p>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>The <code>from_context: client_metadata</code> option in the <code>resource</code> processor only applies to transport-level metadata. It cannot extract custom application attributes.</p>
<p>To propagate such values into your telemetry, set them explicitly in your application code using EDOT SDK instrumentation. For more information, refer to <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/troubleshoot/ingest/opentelemetry/edot-collector/metadata" hx-select-oob="#main-container" preload="mousedown">EDOT Collector doesn’t propagate client metadata</a>.</p>
</div>
</div>
<p>Data is exported directly to Elasticsearch using the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" target="_blank" rel="noopener noreferrer"><code>elasticsearch</code></a> exporter in <code>OTel-native</code> mode.</p>
<div class="heading-wrapper" id="application-and-traces-collection-pipeline"><h4><a class="headerlink" href="#application-and-traces-collection-pipeline">Application and traces collection pipeline</a></h4>
</div>
<p>The application pipeline in the EDOT Collector receives data from OTel SDKs through the <a href="https://github.com/open-telemetry/opentelemetry-collector/tree/main/receiver/otlpreceiver" target="_blank" rel="noopener noreferrer"><code>OTLP</code></a> receiver. While logs and metrics are exported verbatim into Elasticsearch, traces require two additional components.</p>
<p>The <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/processor/elastictraceprocessor" target="_blank" rel="noopener noreferrer"><code>elastictrace</code></a> processor enriches trace data with additional attributes that improve the user experience in the Elastic Observability UIs. In addition, the <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/connector/elasticapmconnector" target="_blank" rel="noopener noreferrer"><code>elasticapm</code></a> connector generates pre-aggregated APM metrics from tracing data.</p>
<p>Application-related OTel data is ingested into Elasticsearch in OTel-native format using the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" target="_blank" rel="noopener noreferrer"><code>elasticsearch</code></a> exporter.</p>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>Both components, <code>elastictrace</code> and <code>elasticapm</code> are required for Elastic APM UIs to work properly. As they aren't included in the OpenTelemetry <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib" target="_blank" rel="noopener noreferrer">Collector Contrib repository</a>, you can:</p>
<ul>
<li>Use the EDOT Collector with the available configuration to ingest data into Elasticsearch.</li>
<li><a href="/reference/edot-collector/custom-collector" hx-select-oob="#content-container,#toc-nav" preload="mousedown">Build a custom, EDOT-like Collector</a> for ingesting data into Elasticsearch.</li>
<li>Use Elastic's <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/solutions/observability/get-started/opentelemetry/quickstart/quickstart/serverless" hx-select-oob="#main-container" preload="mousedown">managed OTLP endpoint</a> that does the enrichment for you.</li>
</ul>
</div>
</div>
<div class="heading-wrapper" id="host-metrics-collection-pipeline"><h4><a class="headerlink" href="#host-metrics-collection-pipeline">Host metrics collection pipeline</a></h4>
</div>
<p>The host metrics pipeline uses the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/hostmetricsreceiver" target="_blank" rel="noopener noreferrer"><code>hostmetrics</code></a> receiver to collect <code>disk</code>, <code>filesystem</code>, <code>cpu</code>, <code>memory</code>, <code>process</code> and <code>network</code> metrics for the corresponding host.</p>
<p>For backwards compatibility, host metrics are translated into ECS-compatible system metrics using the <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/processor/elasticinframetricsprocessor" target="_blank" rel="noopener noreferrer"><code>elasticinframetrics</code></a> processor. Finally, metrics are ingested in <code>ecs</code> format through the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" target="_blank" rel="noopener noreferrer"><code>elasticsearch</code></a> exporter.</p>
<p>The <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourcedetectionprocessor" target="_blank" rel="noopener noreferrer"><code>resourcedetection</code></a> processor enriches the metrics with meta information about the corresponding host and operating system. The <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/attributesprocessor" target="_blank" rel="noopener noreferrer"><code>attributes</code></a> and <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourceprocessor" target="_blank" rel="noopener noreferrer"><code>resource</code></a> processor are used to set some fields for proper routing of the ECS-based system metrics data into corresponding Elasticsearch data streams.</p>
<div class="admonition important">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"/>
					</svg>
		<span>Important</span>
	</div>
	<div class="admonition-content"><p>Process metrics are turned off by default to avoid generating a large volume of timeseries data. To turn on process metrics, uncomment or add the following section inside the <code>hostmetrics</code> receiver configuration:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">process:
   mute_process_exe_error: true
   mute_process_io_error: true
   mute_process_user_error: true
   metrics:
      process.threads:
      enabled: true
      process.open_file_descriptors:
      enabled: true
      process.memory.utilization:
      enabled: true
      process.disk.operations:
      enabled: true
</code></pre>
	</div>
</div>
</div>
</div>
<div class="heading-wrapper" id="using-the-managed-otlp-endpoint"><h3><a class="headerlink" href="#using-the-managed-otlp-endpoint">Using the Managed OTLP Endpoint</a></h3>
</div>
<p>When ingesting OTel data through the <a href="https://docs-v3-preview.elastic.dev/elastic/opentelemetry/tree/main/reference/motlp" hx-select-oob="#main-container" preload="mousedown">Elastic Cloud Managed OTLP Endpoint</a>, all the enrichment that is required for an optimal experience in the Elastic solutions happens at the endpoint level and is transparent to users.</p>
<p>The Collector configuration for all use cases that involve the Elastic Cloud Managed OTLP Endpoint is only concerned with local data collection and context enrichment.</p>
<p>Platform logs are scraped with the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/filelogreceiver" target="_blank" rel="noopener noreferrer"><code>filelog</code></a> receiver, host metrics are collected through the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/hostmetricsreceiver" target="_blank" rel="noopener noreferrer"><code>hostmetrics</code></a> receiver and both signals are enriched with meta information through the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourcedetectionprocessor" target="_blank" rel="noopener noreferrer"><code>resourcedetection</code></a> processor.</p>
<p>Data from OTel SDKs is piped through the <a href="https://github.com/open-telemetry/opentelemetry-collector/tree/main/receiver/otlpreceiver" target="_blank" rel="noopener noreferrer"><code>OTLP</code></a> receiver directly to the OTLP exporter that sends data for all signals to the Elastic Cloud Managed OTLP Endpoint.</p>
<p>With the Elastic Cloud Managed OTLP Endpoint, there is no need to configure any Elastic-specific components, such as <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/processor/elasticinframetricsprocessor" target="_blank" rel="noopener noreferrer"><code>elasticinframetrics</code></a>, <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/processor/elastictraceprocessor" target="_blank" rel="noopener noreferrer"><code>elastictrace</code></a> processors, the <a href="https://github.com/elastic/opentelemetry-collector-components/tree/main/connector/elasticapmconnector" target="_blank" rel="noopener noreferrer"><code>elasticapm</code></a> connector, or the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" target="_blank" rel="noopener noreferrer"><code>elasticsearch</code></a> exporter. Edge setup and configuration can be 100% vendor agnostic.</p>
<div class="heading-wrapper" id="gateway-mode"><h2><a class="headerlink" href="#gateway-mode">Gateway mode</a></h2>
</div>
<p>In Gateway mode, the Collector ingests data from other Collectors running in Agent mode and forwards it to Elastic.</p>
<div class="heading-wrapper" id="example-configuration"><h2><a class="headerlink" href="#example-configuration">Example configuration</a></h2>
</div>
<p>The following example configuration files are available for the Gateway mode:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Version</th>
<th>Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td>8.17</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.0.4/internal/pkg/otel/samples/linux/gateway.yml" target="_blank" rel="noopener noreferrer">Gateway mode</a></td>
</tr>
<tr>
<td>8.18</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.0.4/internal/pkg/otel/samples/linux/gateway.yml" target="_blank" rel="noopener noreferrer">Gateway mode</a></td>
</tr>
<tr>
<td>9.0</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.0.4/internal/pkg/otel/samples/linux/gateway.yml" target="_blank" rel="noopener noreferrer">Gateway mode</a></td>
</tr>
<tr>
<td>8.19</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v8.19.0/internal/pkg/otel/samples/linux/gateway.yml" target="_blank" rel="noopener noreferrer">Gateway mode</a></td>
</tr>
<tr>
<td>9.1</td>
<td><a href="https://raw.githubusercontent.com/elastic/elastic-agent/refs/tags/v9.1.0/internal/pkg/otel/samples/linux/gateway.yml" target="_blank" rel="noopener noreferrer">Gateway mode</a></td>
</tr>
</tbody>
</table>
</div>
<p>Use the previous example configuration as a reference when configuring your Gateway Collector or customizing your EDOT Collector configuration.</p>
<div class="heading-wrapper" id="data-collection-and-processing"><h3><a class="headerlink" href="#data-collection-and-processing">Data collection and processing</a></h3>
</div>
<p>The EDOT Collector in Gateway mode collects data from other Collectors using the OTLP protocol. By default, the sample Gateway configuration listens on port <code>4317</code> for gRPC and port <code>4318</code> for HTTP.</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317<span style="display: inline-block; width: 0ch"></span><span class="code-callout" data-index="1"></span>
      http:
        endpoint: 0.0.0.0:4318<span style="display: inline-block; width: 0ch"></span><span class="code-callout" data-index="2"></span>
</code></pre>
	</div>
</div>
<ol class="code-callouts">
<li>
Listen on all interfaces
</li>
<li>
Listen on all interfaces
</li>
</ol>
<p>The routing connector splits infrastructure metrics from other metrics and routes them to the appropriate Elastic Common Schema pipelines. Other metrics are exported in OTel-native format through the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" target="_blank" rel="noopener noreferrer"><code>elasticsearch</code></a> exporter.</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">connectors:
  routing:
    default_pipelines: [metrics/otel]
    error_mode: ignore
    table:
      - context: metric
        statement: route() where IsMatch(instrumentation_scope.name, &quot;github.com/open-telemetry/opentelemetry-collector-contrib/receiver/hostmetricsreceiver/internal/scraper/*&quot;)
        pipelines: [metrics/infra/ecs, metrics/otel]
  elasticapm: {}
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="data-processing-and-transformation"><h3><a class="headerlink" href="#data-processing-and-transformation">Data processing and transformation</a></h3>
</div>
<p>The Gateway configuration includes several processors to transform and optimize the collected data:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">processors:
  elasticinframetrics:
    add_system_metrics: true
    drop_original: true
  attributes/dataset:
    actions:
      - key: event.dataset
        from_attribute: data_stream.dataset
        action: upsert
  resource/process:
    attributes:
      - key: process.executable.name
        action: delete
      - key: process.executable.path
        action: delete
  batch:
    send_batch_size: 1000
    timeout: 1s
    send_batch_max_size: 1500
  batch/metrics:
    send_batch_max_size: 0<span style="display: inline-block; width: 0ch"></span><span class="code-callout" data-index="1"></span>
    timeout: 1s
  elastictrace: {}
</code></pre>
	</div>
</div>
<ol class="code-callouts">
<li>
Prevents splitting metrics requests
</li>
</ol>
<div class="heading-wrapper" id="data-export"><h3><a class="headerlink" href="#data-export">Data export</a></h3>
</div>
<p>The Gateway exports data to Elasticsearch in two formats:</p>
<ul>
<li>OTel-native format using the <code>elasticsearch/otel</code> exporter.</li>
<li>Elastic Common Schema (ECS) format using the <code>elasticsearch/ecs</code> exporter.</li>
</ul>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">exporters:
  elasticsearch/otel:
    endpoints:
      - ${ELASTIC_ENDPOINT}
    api_key: ${ELASTIC_API_KEY}
    mapping:
      mode: otel
  elasticsearch/ecs:
    endpoints:
      - ${ELASTIC_ENDPOINT}
    api_key: ${ELASTIC_API_KEY}
    mapping:
      mode: ecs
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="pipeline-configuration"><h3><a class="headerlink" href="#pipeline-configuration">Pipeline configuration</a></h3>
</div>
<p>The service section defines separate pipelines for different telemetry types:</p>
<ul>
<li>Metrics pipelines for infrastructure and OTel metrics</li>
<li>Logs pipeline</li>
<li>Traces pipeline</li>
<li>Aggregated OTel metrics pipeline</li>
</ul>
<p>Each pipeline connects specific receivers, processors, and exporters to handle different data types appropriately.</p>
<div class="heading-wrapper" id="central-configuration"><h2><a class="headerlink" href="#central-configuration">Central configuration</a></h2>
</div>
<p>The EDOT Collector can be configured to use <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/solutions/observability/apm/apm-agent-central-configuration" hx-select-oob="#main-container" preload="mousedown">APM Agent Central Configuration</a>. Refer to <a href="https://docs-v3-preview.elastic.dev/elastic/opentelemetry/tree/main/reference/central-configuration" hx-select-oob="#main-container" preload="mousedown">Central configuration docs</a> for more details.</p>
<p>To activate the central configuration feature, add the <a href="https://github.com/elastic/opentelemetry-collector-components/blob/main/extension/apmconfigextension/README.md" target="_blank" rel="noopener noreferrer"><code>apmconfig</code></a>. For example:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">extensions:
  bearertokenauth:
    scheme: &quot;APIKey&quot;
    token: &quot;&lt;ENCODED_ELASTICSEARCH_APIKEY&gt;&quot;

  apmconfig:
    opamp:
      protocols:
        http:
          # Default is localhost:4320
          # endpoint: &quot;&lt;CUSTOM_OPAMP_ENDPOINT&gt;&quot;
    source:
      elasticsearch:
        endpoint: &quot;&lt;ELASTICSEARCH_ENDPOINT&gt;&quot;
        auth:
          authenticator: bearertokenauth
</code></pre>
	</div>
</div>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>For comprehensive authentication configuration options, see <a href="/reference/edot-collector/config/authentication-methods" hx-select-oob="#main-container" preload="mousedown">Authentication methods</a>.</p>
</div>
</div>

<p>Create an API Key following <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/deploy-manage/api-keys/elasticsearch-api-keys" hx-select-oob="#main-container" preload="mousedown">these instructions</a>. The API key must have <code>config_agent:read</code> permissions and resources set to <code>-</code>.</p>
<div class="heading-wrapper" id="secure-connection"><h2><a class="headerlink" href="#secure-connection">Secure connection</a></h2>
</div>
<p>To secure the connection between the EDOT Collector and Elastic, you can use TLS or mutual TLS, as well as the <code>apikeyauth</code> extension.</p>
<div class="heading-wrapper" id="tls-configuration"><h3><a class="headerlink" href="#tls-configuration">TLS configuration</a></h3>
</div>
<p>You can turn on TLS or mutual TLS to encrypt data in transit between EDOT SDKs and the extension. Refer to <a href="https://github.com/open-telemetry/opentelemetry-collector/blob/main/config/configtls/README.md#server-configuration" target="_blank" rel="noopener noreferrer">OpenTelemetry TLS server configuration</a> for more details.</p>
<p>For example:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">extensions:
  apmconfig:
    opamp:
      protocols:
        http:
          endpoint: &quot;:4320&quot;
          tls:
            cert_file: server.crt
            key_file: server.key
   ...
</code></pre>
	</div>
</div>
<div class="heading-wrapper" id="authentication-settings"><h3><a class="headerlink" href="#authentication-settings">Authentication settings</a></h3>
</div>
<p>In addition to TLS, you can configure authentication to ensure that only authorized agents can communicate with the extension and retrieve their corresponding remote configurations.</p>
<p>The <code>apmconfig</code> extension supports any configauth authenticator. Use the <code>apikeyauth</code> extension to authenticate with Elasticsearch API keys:</p>
<div class="highlight-yaml notranslate">
	<div class="highlight">
		<pre><code class="language-yaml">extensions:
  apikeyauth:
    endpoint: &quot;&lt;YOUR_ELASTICSEARCH_ENDPOINT&gt;&quot;
    application_privileges:
      - application: &quot;apm&quot;
        privileges:
          - &quot;config_agent:read&quot;
        resources:
          - &quot;-&quot;
  apmconfig:
    opamp:
      protocols:
        http:
          auth:
            authenticator: apikeyauth
   ...
</code></pre>
	</div>
</div>
<p>Create an API key with the minimum required application permissions through Kibana under <strong>Observability</strong> → <strong>Applications</strong> → <strong>Settings</strong> → <strong>Agent Keys</strong>, or by using the Elasticsearch Security API:</p>
<details class="dropdown">
	<summary class="dropdown-title">
		<span class="sd-summary-text">Example JSON payload</span>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			fill="none"
			viewBox="0 0 24 24"
			stroke-width="1.5"
			stroke="currentColor"
			class="w-4 mr-1 shrink -rotate-90 group-has-checked/label:rotate-0 cursor-pointer text-ink">
			<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
		</svg>
	</summary>
	<div class="dropdown-content">
		<div class="highlight-json notranslate">
	<div class="highlight">
		<pre><code class="language-json">POST /_security/api_key
{
  &quot;name&quot;: &quot;apmconfig-opamp-test-sdk&quot;,
  &quot;metadata&quot;: {
    &quot;application&quot;: &quot;apm&quot;
  },
  &quot;role_descriptors&quot;: {
    &quot;apm&quot;: {
      &quot;cluster&quot;: [],
      &quot;indices&quot;: [],
      &quot;applications&quot;: [
        {
          &quot;application&quot;: &quot;apm&quot;,
          &quot;privileges&quot;: [
            &quot;config_agent:read&quot;
          ],
          &quot;resources&quot;: [
            &quot;*&quot;
          ]
        }
      ],
      &quot;run_as&quot;: [],
      &quot;metadata&quot;: {}
    }
  }
}
</code></pre>
	</div>
</div>

	</div>
</details>
<p>The server expects incoming HTTP requests to include an API key with sufficient privileges, using the following header format: <code>Authorization: ApiKey &lt;base64(id:api_key)&gt;</code>.</p>

</section>

						</article>
						<footer id="prev-next-nav" class="content-container mt-20 px-4">
	<div class="flex flex-wrap lg:flex-nowrap gap-2 mt-2">
		<div class="w-full">
				<a 
					href="/reference/edot-collector/config/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md"
				>
					<svg class="size-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"/>
					</svg>
					<div>
						<div class="text-xs lg:text-sm">Previous</div>
						<div class="text-base lg:text-xl text-black">Configuration</div>
					</div>
				</a>
		</div>
		<div class="w-full">
				<a 
					href="/reference/edot-collector/config/default-config-k8s"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center justify-end text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md text-right"
				>
					<div>
						<div class="text-xs lg:text-sm">Next</div>
						<div class="text-base lg:text-xl text-black">Default config (Kubernetes)</div>
					</div>
					<svg class="size-6 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
					</svg>
				</a>
		</div>
	</div>
</footer>

					</main>
					<div class="spacer"></div>
				</div>
			</div>
		</div>

</div>

<footer class="py-12 px-6 w-full mx-auto bg-ink-dark">
	<div class="max-w-(--max-layout-width) w-full mx-auto">
	<div class="text-grey-20 text-[12px]">
		<a href="https://www.elastic.co/">
			<img class="block" loading="lazy" alt="Elastic logo" src="/_static/logo-elastic-horizontal-white.svg?v=19bc4040eda89518" width="120" height="41"/>
		</a>
	</div>
	<div class="text-grey-20 text-[12px] bg-ink-dark grid grid-cols-1 md:grid-cols-2 gap-2 items-center">
		<div>
			<ul class="mt-4 flex gap-3">
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/trademarks">Trademarks</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/terms-of-use">Terms of Use</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/privacy-statement">Privacy</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/sitemap">Sitemap</a>
				</li>
			</ul>
			<p class="mt-4">
				© 2025 Elasticsearch B.V. All Rights Reserved.
			</p>
		</div>
		<div class="mt-4">
			<p>
				This content is available in different formats for convenience only. All original licensing terms apply.
			</p>
			<p class="mt-4">
				Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries. Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries. 
			</p>
		</div>
	</div>
	</div>
</footer>


</body>
</html>
